# resources/benchmark_job.yml
resources:
  jobs:
    bma_genie_benchmark:
      name: "[BMA] Genie Benchmark â€” Weekly Quality Check"
      description: >
        Runs 10 benchmark questions against the CPI Genie Space weekly,
        measures completion rate and response times, and appends results
        to bma_pilot.genie_ready.genie_benchmark_results for tracking.
      schedule:
        quartz_cron_expression: "0 0 8 ? * MON"  # Every Monday at 8:00 UTC
        timezone_id: "Atlantic/Bermuda"
      tasks:
        - task_key: run_benchmarks
          notebook_task:
            notebook_path: ../src/run_benchmarks.py
            base_parameters:
              GENIE_SPACE_ID: ${var.genie_space_id}
              CATALOG: ${var.catalog}
              SCHEMA: ${var.schema}
      email_notifications:
        on_failure:
          - "REPLACE_WITH_EMAIL"
